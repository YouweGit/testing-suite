parameters:
  # Default settings for php testing suite tasks
  composer.strict: true

  jsonlint.detect_key_conflicts: true
  jsonlint.ignore_patterns:
    - .ddev/
    - tests/fixtures/

  xmllint.load_from_net: true
  xmllint.x_include: true
  xmllint.dtd_validation: true
  xmllint.scheme_validation: true
  xmllint.triggered_by: [xml]
  xmllint.ignore_patterns:
    # Uses an incomplete definition, which conflicts when <exclude-pattern>
    # is defined.
    - /^phpcs.xml$/
    - /^phpmd.xml$/
    - /^phpunit.xml$/
    - /^pdepend.xml$/

  yamllint.parse_constant: true
  yamllint.whitelist_patterns: []
  yamllint.ignore_patterns: []

  phpcs.enabled: true
  phpcs.standard: ./phpcs.xml
  phpcs.triggered_by: [php,phtml]

  phpcsfixer.enabled: false
  phpcsfixer.allow_risky: false
  phpcsfixer.config: .php-cs-fixer.php # Although we're using the default here, it should be explicitly specified
                                       # because PhpCsFixer wants the --config=file indicated in the command line call
  phpcsfixer.verbose: true
  phpcsfixer.diff: true
  phpcsfixer.triggered_by: ['php']

  phplint.exclude: ['vendor']
  phplint.jobs: ~
  phplint.short_open_tag: false
  phplint.ignore_patterns: [ ]
  phplint.triggered_by: ['php']

  phpmd.exclude: []
  phpmd.ruleset:
    - ./phpmd.xml
  phpmd.triggered_by: [php]

  phpstan.autoload_file: ~
  phpstan.configuration: ./phpstan.neon
  phpstan.level: 4
  phpstan.triggered_by: [php]
  phpstan.use_grumphp_paths: false # Always (also during commit hook), scan the full project as described in https://phpstan.org/blog/why-you-should-always-analyse-whole-project

  phpunit.config_file: ./phpunit.xml

  securitychecker.lockfile: ./composer.lock
  securitychecker.run_always: true
  securitychecker.allow_list: []

  git_blacklist.keywords:
    - "die("
    - "dd("
    - "dump("
    - "var_dump("
    - "console.log("
    - "print_r("
    - "phpinfo("
    - "exit("
    - "exit;"
    - "<<<<<<<"
    - ">>>>>>>"
    - "======="
    - "<?php echo"
  git_blacklist.triggered_by: [ 'php', 'js' ]
  git_blacklist.whitelist_patterns: []
  git_blacklist.regexp_type: G
  git_blacklist.match_word: true
  git_blacklist.ignore_patterns: []

  git_commit_message.type_scope_conventions:
    types:
      - build
      - chore
      - ci
      - cleanup
      - config
      - docs
      - feat
      - fix
      - merge
      - perf
      - refactor
      - release
      - revert
      - style
      - test
  git_commit_message.enforce_capitalized_subject: false # Not to be used in combination with type_scope_conventions
  git_commit_message.max_body_width: 72 # To disable this setting, use a value of 0
  git_commit_message.max_subject_width: 72
  # The available Jira Projects should be configured in your project repository. Multiple projects can be configured pipe-separated
  git_commit_message.jira_projects: 'YOU_SHOULD_CONFIGURE_YOUR|JIRA_PROJECT_CODES|IN_YOUR_GRUMP_YML'
  git_commit_message.jira_matcher: '/\n.+ (%git_commit_message.jira_projects%)-\d+/'
  git_commit_message.matchers:
    'Must contain JIRA issue number within the message body (e.g. "Resolves PROJECT-1234")': '%git_commit_message.jira_matcher%'
  git_commit_message.case_insensitive: false

grumphp:
  ascii:
    failed: ~
    succeeded: ~

  git_hook_variables:
    EXEC_GRUMPHP_COMMAND: vendor/bin/youwe-container-detected-exec

  parallel:
    enabled: true

  # Default tasks for testing suite
  tasks:
    composer:
      strict: '%composer.strict%'

    jsonlint:
      detect_key_conflicts: '%jsonlint.detect_key_conflicts%'
      ignore_patterns: '%jsonlint.ignore_patterns%'

    git_blacklist:
      keywords: '%git_blacklist.keywords%'
      whitelist_patterns: '%git_blacklist.whitelist_patterns%'
      triggered_by: '%git_blacklist.triggered_by%'
      regexp_type: '%git_blacklist.regexp_type%'
      match_word: '%git_blacklist.match_word%'
      ignore_patterns: '%git_blacklist.ignore_patterns%'

    git_commit_message:
        enforce_capitalized_subject: '%git_commit_message.enforce_capitalized_subject%'
        type_scope_conventions: '%git_commit_message.type_scope_conventions%'
        max_body_width: '%git_commit_message.max_body_width%'
        max_subject_width: '%git_commit_message.max_subject_width%'
        matchers: '%git_commit_message.matchers%'
        case_insensitive: '%git_commit_message.case_insensitive%'

    xmllint:
      load_from_net: '%xmllint.load_from_net%'
      x_include: '%xmllint.x_include%'
      dtd_validation: '%xmllint.dtd_validation%'
      scheme_validation: '%xmllint.scheme_validation%'
      triggered_by: '%xmllint.triggered_by%'
      ignore_patterns: '%xmllint.ignore_patterns%'

    yamllint:
      parse_constant: '%yamllint.parse_constant%'
      whitelist_patterns: '%yamllint.whitelist_patterns%'
      ignore_patterns: '%yamllint.ignore_patterns%'

    phpcs:
      metadata:
        enabled: '%phpcs.enabled%'
      standard: '%phpcs.standard%'
      triggered_by: '%phpcs.triggered_by%'

    phpcsfixer:
      metadata:
        enabled: '%phpcsfixer.enabled%'
      allow_risky: '%phpcsfixer.allow_risky%'
      config: '%phpcsfixer.config%'
      verbose: '%phpcsfixer.verbose%'
      diff: '%phpcsfixer.diff%'
      triggered_by: '%phpcsfixer.triggered_by%'

    phplint:
      exclude: '%phplint.exclude%'
      jobs: '%phplint.jobs%'
      short_open_tag: '%phplint.short_open_tag%'
      ignore_patterns: '%phplint.ignore_patterns%'
      triggered_by: '%phplint.triggered_by%'

    phpmd:
      exclude: '%phpmd.exclude%'
      ruleset: '%phpmd.ruleset%'
      triggered_by: '%phpmd.triggered_by%'

    phpstan:
      autoload_file: '%phpstan.autoload_file%'
      configuration: '%phpstan.configuration%'
      level: '%phpstan.level%'
      triggered_by: '%phpstan.triggered_by%'
      use_grumphp_paths: '%phpstan.use_grumphp_paths%'

    phpunit:
      config_file: '%phpunit.config_file%'

    securitychecker_enlightn:
      lockfile: '%securitychecker.lockfile%'
      run_always: '%securitychecker.run_always%'
      allow_list: '%securitychecker.allow_list%'
